# Spring Cache

Spring Cache не реализует сам кэш — он лишь предоставляет универсальный интерфейс.

Под капотом можно подключить любую реализацию
| Реализация                    | Хранилище                                     |
| :---------------------------- | :-------------------------------------------- |
| `ConcurrentMapCache`          | Память JVM (по умолчанию)                     |
| **Caffeine**                  | Быстрый in-memory кэш (рекомендуемый вариант) |
| **Ehcache**                   | Более гибкий in-memory / диск                 |
| **Redis**                     | Распределённый кэш                            |
| **Hazelcast**, **Infinispan** | Кластерные решения                            |

---

## Как это работает

- При первом вызове: метод выполняется, результат сохраняется в кэше "users".
- При повторном вызове с тем же id: результат возвращается из кэша (метод не вызывается).


    @Service
    public class UserService {
    
        @Cacheable("users")
        public User findUserById(Long id) {
            System.out.println("Querying database...");
            return userRepository.findById(id).orElseThrow();
        }
    }

---

## Основные аннотации

| Аннотация        | Назначение                                   |
| :--------------- | :------------------------------------------- |
| `@Cacheable`     | Кэширует результат метода                    |
| `@CachePut`      | Всегда выполняет метод и обновляет кэш       |
| `@CacheEvict`    | Удаляет данные из кэша                       |
| `@Caching`       | Объединяет несколько правил кэширования      |
| `@EnableCaching` | Включает механизм кэширования в конфигурации |
