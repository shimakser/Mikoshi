# Microarchitecture

## Микроархитектура
- Конкретная аппаратная реализация ISA. Определяет, как именно процессор выполняет инструкции — как происходит переход от одного архитектурного состояния к другому.
- Внутренняя, невидимая для программиста, организация процессора, которая реализует его ISA.

Проще говоря, если ISA — это что процессор умеет делать, то микроархитектура — это как он это делает. Два разных процессора могут иметь одну и ту же ISA, однако из-за различий в микроархитектуре один из них будет делать это гораздо быстрее, эффективнее и с меньшим энергопотреблением.

---

### Однотактовая архитектура

Каждая инструкция, от самой простой до самой сложной, выполняется ровно за один длинный такт.
Проблема: Длительность этого такта должна быть равна времени выполнения самой медленной инструкции в наборе (например, загрузка данных из памяти). Это значит, что быстрые инструкции (вроде сложения двух чисел в регистрах) заставляют процессор простаивать большую часть такта, ожидая его завершения. Это крайне неэффективно.

### Многотактовая архитектура

Выполнение одной машинной инструкции разбивается на несколько последовательных, более простых шагов, каждый из которых занимает один такт процессора.
Длительность такта теперь определяется самой медленной стадией, а не всей инструкцией. Процессор не простаивает, так как каждая инструкция занимает ровно столько тактов, сколько ей необходимо.

---

### 5 стадий выполнения инструкции
- IF (Выборка)
- ID (Декодирование)
- EX (Исполнение)
- MEM (Доступ к памяти)
- WB (Запись результата)

В простой многотактовой архитектуре, пока одна инструкция находится на стадии EX, все остальные блоки процессора (IF, ID, MEM, WB) простаивают.
Это неэффективно. 
_Решение:_ Конвейер.