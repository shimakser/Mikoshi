# RabbitMQ

Классический брокер сообщений на основе AMQP, ориентированный на гибкую маршрутизацию и гарантии доставки.

Поддерживает несколько протоколов, включая AMQP, MQTT, STOMP.

---

### Структура
**Queue** — структура данных, где хранятся сообщения до того, как получатель их обработает. Очередь может быть временной или постоянной, в зависимости от потребностей приложения.
_Поддерживают:_
- Durability (сохранение на диск).
- TTL (время жизни сообщения).

**Message** —  единица данных, которая передается от издателя к подписчику через очередь.

**Exchange (обменник)** — компонент, который принимает сообщения от издателей и направляет их в соответствующие очереди по правилам:
- Direct: Точное совпадение routing key.
- Fanout: Широковещательная рассылка.
- Topic: Соответствие шаблону (например, logs.*).
- Headers: На основе атрибутов сообщения.

**Binding** — связь между обменник и очередь, которая определяет, какие сообщения в какую очередь будут направлены.

**Producer** — приложение, которое публикует сообщения в обменник.

**Consumer** — приложение, которое получает сообщения из очереди и обрабатывает их.
Получают данные с сервера, используя push-модель — сервер делает запрос к клиенту, посылая ему новую порцию данных.

---

### Как работает

Работа происходит следующим образом:
- продюсер отправляет сообщение в обменник;
- обменник направляет сообщение в соответствующую очередь, в зависимости биндинга;
- получатель подписывается на очередь и начинает получать сообщения из нее;
- получатель обрабатывает сообщения и выполняет необходимые действия;
- получатель подтверждает получение сообщения, чтобы исключить его из очереди;
- если сообщение не было подтверждено в течение определенного времени, оно будет повторно отправлено в очередь.

RabbitMQ гарантирует доставку сообщений получателю. Для этого используется механизм подтверждения доставки (Acknowledgements), который позволяет отправителю сообщения быть уверенным в том, что адресат его получил. Если получатель не подтверждает получение сообщения, RabbitMQ автоматически повторяет отправку.