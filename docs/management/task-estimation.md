# Task estimation

## Общие принципы
1. Всегда декомпозируй фичу до технически обозримых задач.
2. Чем больше неопределённости — тем шире диапазон.
3. Всегда оставляй буфер на неизвестные риски.

## Что учитывать при оценке
1. Покрытие тестами.
2. Code review.
3. Багфиксы и rework.
4. CI/CD (сборка, деплой).
5. Митинги, коммуникация.

## Нормы закладывания на оверхед
_(Проценты от оценки кода)_
1. Code review — +5–15%.
2. Багфиксы / баглоуп — +10–20%.
3. Митинги / обсуждение — +10–20%.
4. CI/CD, деплой, ожидание — +5–15%.
5. Работа с тестами (покрытие, прогон) — +20–30%.
6. Буфер на неизвестные риски — +20–30% (в зависимости от ясности задачи).

## Практики для повышения точности
- Ретроспективы оценки: что оценили неправильно, почему?
- Оценка вместе с QA и DevOps.
- Фиксация предположений: явно прописывается scope, что входит, а что нет.
- Сравнение planned vs actual — фиксировать разницу и причину.

## Типовые ошибки
- Оценка «по наитию» без декомпозиции.
- Слишком детальная оценка на раннем этапе.
- Игнорирование ревью, багов, времени CI/CD.
- Неучёт времени на обсуждение требований и изменений.
- Принятие лучшего сценария за основной (нет pessimistic оценки).
- Отсутствие буфера на непредвиденные проблемы.
- Игнорирование зависимости от внешних команд/сервисов.

---

## Методологии и техники оценки
- Planning Poker — каждый член команды оценивает задачу индивидуально, а затем обсуждаются расхождения. Используются карты с числами Фибоначчи (1, 2, 3, 5, 8, 13, 21...) или T-Shirt Sizes.
- Bucket System — Команда быстро сортирует задачи по заранее определенным "корзинам" или категориям оценки (например, "очень маленькие", "маленькие", "средние", "большие", "очень большие"). Затем каждой корзине присваивается числовое значение.
- Wideband Delphi — Эксперты (члены команды) оценивают задачи независимо, затем их оценки агрегируются, и они пересматривают свои оценки с учетом общего распределения. Это повторяется до достижения консенсуса или приемлемого уровня расхождения.
- Analogous Estimating — Использование фактических данных из предыдущих, похожих проектов или задач в качестве основы для оценки нового проекта.
- Three-Point Estimating / PERT — 
`E = (Optimistic + 4 * MostLikely + Pessimistic) / 6.`

---

1. Для небольших задач (< 1 недели):
   - Используйте Planning Poker.
   - Добавляйте 15-20% буфер.
   - Учитывайте время на код-ревью.
2. Для крупных фич (1-4 недели):
   - Разбивайте на подзадачи.
   - Используйте трехточечную оценку.
   - Буфер 20-30%.
   - Планируйте интеграционное тестирование.
3. Для больших проектов (1+ месяц):
   - Bottom-up декомпозиция.
   - Monte Carlo моделирование.
   - Буфер 25-50%.
   - Формальное управление рисками.