# Basic concepts

### Процесс
Экземпляр программы во время выполнения, независимый объект, которому выделены системные ресурсы. Процессы изолированы друг от друга, поэтому прямой доступ к памяти чужого процесса невозможен.
Процесс это некоторая единица операционной системы, которой выделена память и другие ресурсы. Поток это единица исполнения кода.

---

### Критическая секция
Это то, где одновременно выполняется только один поток, и этот поток удерживает блокировку синхронизированной секции.

---

### lock
Это когда один поток А получил блокировку на объект А1, а поток В получил блокировку на объект В1. В то время как поток А пытается получит блокировку на объект В1, а поток В на А1.
В java.lang.Thread есть метод holdsLock(), он возвращает true, тогда и только тогда, когда текущая нить удерживает монитор у определённого объекта.

**DeadLock** — потоки блочат друг друга, t1 держит объект o1, t2 держит o2. t1 ждет o2 для продолжения работы, t2 ждет o1 для продолжения работы: в итоге оба виснут намертво.

**Livelock** — потоки внешне как бы живут, но при этом не могут ничего сделать, т.к. условие, по которым они пытаются продолжить свою работу, не могут выполниться. По сути Livelock похож на deadlock, но только потоки не "зависают" на системном ожидании монитора, а что-то вечно делают.

---

### Race condition
Это ситуация, при которой несколько потоков (или процессов) одновременно пытаются выполнить операции чтения или записи к общим ресурсам без должной синхронизации. Это приводит к тому, что результаты операций зависят от того, какой поток завершит операцию первым, и может привести к непредсказуемым результатам.

Чтобы избежать race condition:
- Использовать синхронизацию, такую как synchronized locks, чтобы гарантировать, что только один поток может получить доступ к общему ресурсу в определенный момент времени.
- Использовать атомарные операции, которые гарантируют, что операция будет выполнена за один шаг и не будет прервана другим потоком.
- Избегать гонок за ресурсы, например, используя разные ресурсы для каждого потока.
- Использовать неблокирующие алгоритмы и структуры данных.

---

### Монитор, мьютекс
Средство обеспечения контроля за доступом к ресурсу.

У монитора может быть максимум один владелец в каждый текущий момент времени. Если кто-то использует ресурс и захватил монитор для обеспечения единоличного доступа, то другой, желающий использовать тот же ресурс, должен подождать освобождения монитора, захватить его и только потом начать использовать ресурс.
Используется он так: любой нестатический synchronized-метод при своем вызове прежде всего пытается захватить монитор того объекта, у которого он вызван (на который он может сослаться как на this). Если это удалось – метод исполняется. Если нет – поток останавливается и ждет, пока монитор будет отпущен.